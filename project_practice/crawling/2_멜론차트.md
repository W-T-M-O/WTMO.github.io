---
layout: page
title: 웹크롤링
subtitle: 2.멜론차트
menubarcount: 2
menubar: project_practice
menubar2: project_practice_crawling_menu
show_sidebar: false
hero_image: /path/to/title.jpg
hero_darken: true
# toc: true
# toc_title: 목차
description: 
---

웹크롤링을 연습하기 위해서 멜론 1~50위의 내역을 추출해 csv파일로 저장하여 보았다.
```
import requests
from bs4 import BeautifulSoup as BS
import pandas as pd

headers = {'User-Agent':'Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36'}
url = "https://www.melon.com/chart/index.htm"

data = requests.get(url=url, headers=headers)
soup = BS(data.text,'html.parser')
datas = soup.select(".service_list_song .wrap_song_info a")

rows=[]
columns=[]
for index, i in enumerate(datas):
    if index / 4 < 50:
        if index % 4 == 0:
            print(f"순위: {int(index / 4)+1}")
            print(f"제목: {i.text}")
            columns.append(str(int(index / 4)+1)+"위")
            columns.append(i.text)
        elif index % 4 == 1:
            print(f"가수: {i.text}\n")
            columns.append(i.text)
        elif index % 4 == 2:
            rows.append(columns)
            columns=[]
data = pd.DataFrame(columns=["순위", "제목", "가수"],data=rows)
data.to_csv("melon_rank.csv", encoding="utf-8-sig", index=False)
```
$ _ {23.08.03}$<br/><br/>

{% include tag.html tag="python" %}  {% include tag.html tag="웹크롤링" %}